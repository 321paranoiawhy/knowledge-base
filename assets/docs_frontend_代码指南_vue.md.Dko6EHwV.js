import{_ as k,i as d,A as s,N as a,p as l,l as i,ab as t,J as e,h as r}from"./chunks/framework.DriGdB-O.js";const V=JSON.parse('{"title":"Vue","description":"","frontmatter":{"breadcrumb":true,"pageInfo":true,"heatmap":true,"copyright":true},"headers":[],"relativePath":"docs/frontend/代码指南/vue.md","filePath":"docs/frontend/代码指南/vue.md","lastUpdated":1718200917000}'),o={name:"docs/frontend/代码指南/vue.md"},c=s("h1",{id:"vue",tabindex:"-1"},[i("Vue "),s("a",{class:"header-anchor",href:"#vue","aria-label":'Permalink to "Vue"'},"​")],-1),g=s("h2",{id:"通用",tabindex:"-1"},[i("通用 "),s("a",{class:"header-anchor",href:"#通用","aria-label":'Permalink to "通用"'},"​")],-1),u=s("li",null,[s("p",null,[i("文件夹和文件命名均使用 "),s("code",null,"kebab-case"),i(", "),s("code",null,"Vue"),i(" 文件内变量、函数、类仍使用 "),s("code",null,"camelCase"),i(" 命名")])],-1),y=s("code",null,"template",-1),b=s("p",null,[i("如 "),s("code",null,"<base-loading></base-loading>"),i(" -> "),s("code",null,"<base-loading />")],-1),A=t("<li><p>单文件组件 (<code>SFC</code>) 尽可能只包含一个 <code>template</code>、<code>script</code> 和 <code>style</code> 标签, 不建议多个上述标签一起使用</p></li><li><p><code>Vue2</code> 标签排布顺序为 <code>template -&gt; script -&gt; style</code>, <code>Vue3</code> 建议标签排布顺序为 <code>script -&gt; template -&gt; style</code>, 并使用 <code>&lt;script setup lang=&quot;ts&quot;&gt;</code> 语法</p></li><li><p>可复用逻辑尽可能抽离成 <code>hook</code>, 置于 <code>src/composables</code> 文件夹</p></li><li><p>布局置于 <code>src/layouts</code> 文件夹</p></li><li><p>组件置于 <code>src/components</code> 文件夹</p></li><li><p>状态管理, <code>Vuex</code> 置于 <code>src/modules</code> 文件夹, <code>Pinia</code> 置于 <code>src/stores</code> 文件夹, 文件命名为 <code>useFoo.ts</code></p></li><li><p><code>v-for</code> 必须使用 <code>key</code>, 只能使用原始值, 纯静态列表则可使用 <code>index</code> 作为 <code>key</code>, 其余情况推荐使用唯一 <code>id</code> 作为 <code>key</code></p></li><li><p>避免 <code>v-for</code> 和 <code>v-if</code> 连用, 二者优先级与 <code>Vue</code> 版本相关, 在 <code>Vue3</code> 中 <code>v-if</code> 优先级高于 <code>v-for</code>, 可以使用计算属性或在 <code>v-for</code> 中提前计算出所需对象以规避 <code>v-if</code></p></li><li><p>指令或者插槽均使用简写语法: <code>:value</code>、<code>@click</code>、<code>&lt;template #header&gt;</code>, 避免 <code>v-bind:value</code>、<code>v-on:click</code>、<code>v-slot:header</code></p></li>",9),D=t(`<h2 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h2><ul><li>组件文件名使用 <code>kebab-case</code>, 如 <code>src/components/base-loading.vue</code>, 组件始终使用多字符, 以避免与已有或未来新增的原生 <code>HTML</code> 元素冲突。</li><li>组件命名可冠以前缀, 如公司名称、项目缩写或 <code>common-</code>、<code>base-</code>、<code>app-</code> 等</li><li>组件 <code>props</code> 应尽可能详尽, 包括类型 (<code>type</code>)、默认值 (<code>default</code>) 及合法验证 (<code>validate</code>)</li><li>非原始值类型的 <code>prop</code> 默认值使用函数返回: <code>default: () =&gt; []</code>, 严禁使用 <code>default: []</code></li><li>使用组件时, <code>prop</code> 应以 <code>kebab-case</code> 形式传入, 如 <code>:custom-prop=&quot;1&quot;</code></li><li>布尔值类型的 <code>prop</code>, 当其值为 <code>true</code> 时, 可只书写该属性, 如 <code>require-auth</code>, 当其值为 <code>false</code> 时, 则应为 <code>:require-auth=&quot;false&quot;</code></li></ul><p>在 <code>script</code> 中引入和注册组件:</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  &lt;!--  以 kebab-case 形式使用 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">base-loading</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">script</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// BaseLoading 大驼峰, @ 为路径别名, 文件路径不带扩展名, 如 \`.js,.ts,.vue\`</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> BaseLoading</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@/components/base-loading</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  components</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Vue2 中组件注册推荐使用对象简写语法</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 等价于 BaseLoading: BaseLoading,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    BaseLoading</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">};</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">script</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><code>Vue3</code> 写法:</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">script</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> setup</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ts</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> BaseLoading</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@/components/base-loading</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">script</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">base-loading</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="封装原则" tabindex="-1">封装原则 <a class="header-anchor" href="#封装原则" aria-label="Permalink to &quot;封装原则&quot;">​</a></h3><ul><li>通用的非业务组件尽可能不带样式, 仅保留必要的布局和少量样式</li><li>纯业务组件可仅满足业务需要, 但仍应预留未来变更的适应能力</li><li>组件遵循单项数据流, <code>props</code> 完全受控于父组件, 切忌在子组件内修改父组件传递的 <code>props</code></li><li>组件职责应明确, 不可过于混乱, 单组件文本行数建议不超过 <code>200</code> 行</li><li>组件应向外暴露各种定制能力, 包括样式和逻辑, 并在适当之处预留插槽</li><li><code>style</code> 标签必须使用 <code>scoped</code> 属性, 须样式穿透时使用 <code>:deep()</code> 语法, 不建议使用 <code>/deep/</code>、<code>::v-deep</code> 和 <code>&gt;&gt;&gt;</code> 等过时语法</li></ul><h2 id="引入语句" tabindex="-1">引入语句 <a class="header-anchor" href="#引入语句" aria-label="Permalink to &quot;引入语句&quot;">​</a></h2><ul><li>引入语句中不带文件扩展名</li><li>尽可能使用路径别名引入, 以避免过深的路径 <code>../../../file</code></li><li>引入语句须按一定的排序规则进行排序, 以提高统一度和可阅读性</li></ul><h3 id="排序" tabindex="-1">排序 <a class="header-anchor" href="#排序" aria-label="Permalink to &quot;排序&quot;">​</a></h3><h2 id="常用代码片段" tabindex="-1">常用代码片段 <a class="header-anchor" href="#常用代码片段" aria-label="Permalink to &quot;常用代码片段&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> arr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">b</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">c</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 与 -1 比较</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">arr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">indexOf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 可用于 indexOf / lastIndexOf / findIndex / findLast / findLastIndex</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">arr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">indexOf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // -2</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">arr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">indexOf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">d</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 四舍五入</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parseInt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2.5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 2</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~~</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2.5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,13);function m(f,B,v,_,C,x){const n=e("VPNolebaseInlineLinkPreview"),p=e("NolebaseGitContributors"),h=e("NolebaseGitChangelog");return r(),d("div",null,[c,s("ul",null,[s("li",null,[a(n,{href:"https://vuejs.org/style-guide/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Style Guide")]),_:1})])]),g,s("ul",null,[u,s("li",null,[s("p",null,[y,i(" 中标签或组件尽可能"),a(n,{href:"https://vuejs.org/style-guide/rules-strongly-recommended.html#self-closing-components",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("自闭合")]),_:1})]),b]),A]),D,a(p),a(h)])}const q=k(o,[["render",m]]);export{V as __pageData,q as default};
